<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:rich="http://richfaces.org/rich">
	<ui:composition template="/templates/baseLayout.xhtml">
		<ui:define name="body">
			<f:metadata>
		        <f:viewParam id="carId" name="carId" value="#{invCtrl.carId}" />        
		    </f:metadata>
    	    <h:panelGrid width="100%">
    	    	<f:facet name="header">
    	    		<h:panelGrid columns="2" width="100%">
	    	    		<div class="padding-top">
		                	<h4>#{invCtrl.car.make.name} - #{invCtrl.car.model.name} - #{invCtrl.car.style.name} <span>#{invCtrl.car.year}</span></h4>
		                </div>	  
		                <h:link styleClass="padding-top" outcome="/pub/inv/invList" style="float: right;"><strong>&lt;&lt; Back to List</strong></h:link>
	                </h:panelGrid>  	    		
    	    	</f:facet>
    	    	<br/>
		    	<h:panelGrid columns="2" width="100%" columnClasses="leftAlign, rightAlign">
			    	<h:panelGrid id="vehicleInfo" columns="2" columnClasses="rightAlign, leftAlign">
			    		<h:outputText value="Body:" />
			    		<h:outputText value="#{invCtrl.car.style.bodyType}" > <f:converter converterId="enumConverter"/></h:outputText>
			    		<h:outputText value="Price:" />
			    		<h:outputText value="$#{invCtrl.car.salePrice}" />
			    		<h:outputText value="Mileage:" />
			    		<h:outputText value="#{invCtrl.car.mileage}" />
			    		<h:outputText value="Engine:" />
			    		<h:outputText value="#{invCtrl.car.engine}" />
			    		<h:outputText value="Transmission:" />
			    		<h:outputText value="#{car.transType}" converter="enumConverter"/>
			    		<h:outputText value="Drive Train:" />
			    		<h:outputText value="#{car.drvTrnType}" converter="enumConverter"/>
			    		<h:outputText value="Estimated Mileage:" />
			    		<h:outputText value="City: #{invCtrl.car.style.mileages[0].mileageCity} / HWY: #{invCtrl.car.style.mileages[0].mileageHwy}" />
			    		<h:outputText value="Exterior:" />
			    		<h:outputText value="#{invCtrl.car.colorExt}" />
			    		<h:outputText value="Interior:" />
			    		<h:outputText value="#{invCtrl.car.colorInt}" />			    		
			    	</h:panelGrid>
			    	<h:panelGroup id="galleria" layout="block" style="height:400px; width:700px; float: right;">
			    		<ui:repeat var="image" value="#{invCtrl.car.images}">
			    			<h:graphicImage value="/img/?imgId=#{image.imageId}" />
			    		</ui:repeat>
			    	</h:panelGroup>					    		
		    	</h:panelGrid>			    					    			    	
		    </h:panelGrid>
			 <script>
			    // Load the classic theme
			    Galleria.loadTheme('#{facesContext.externalContext.requestContextPath}/js/galleria.classic.min.js');			
			    // Initialize Galleria
			    Galleria.run('#galleria');		
		    </script>
		</ui:define>
	</ui:composition>	
</html>